package ei1034.votoElectronico.codigo;

import java.math.BigInteger;
import java.util.ArrayList;

public class Desencriptar {
    public static void main(String[] args) {
//        System.out.println("\nDESENCRIPTANDO A");
//        byte[] dA = cifrador.desencriptar(privateKeyA, eA2);
//
//        ArrayList<byte[]> conjunto = eliminarCadena(dA);
//        byte[] lectura = leerFichero(dirBaseCadenas + "5");
//        System.out.println("Comprobando cadena: " + comprobarCadenas(conjunto.get(1), lectura));
//
//
//        System.out.println("\nDESENCRIPTANDO B");
//        byte[] dB = cifrador.desencriptar(privateKeyB, conjunto.get(0));
//
//        conjunto = eliminarCadena(dB);
//        lectura = leerFichero(dirBaseCadenas + "4");
//        System.out.println("Comprobando cadena: " + comprobarCadenas(conjunto.get(1), lectura));
//
//
//        System.out.println("\nDESENCRIPTANDO C");
//        byte[] dC = cifrador.desencriptar(privateKeyC, conjunto.get(0));
//
//        conjunto = eliminarCadena(dC);
//        lectura = leerFichero(dirBaseCadenas + "3");
//        System.out.println("Comprobando cadena: " + comprobarCadenas(conjunto.get(1), lectura));
//
//
//        System.out.println("\nDESENCRIPTANDO D");
//        byte[] dD = cifrador.desencriptar(privateKeyD, conjunto.get(0));
//
//        conjunto = eliminarCadena(dD);
//        lectura = leerFichero(dirBaseCadenas + "2");
//        System.out.println("Comprobando cadena: " + comprobarCadenas(conjunto.get(1), lectura));
//
//
//        lectura = leerFichero(dirBaseEncriptados + "A");
//        System.out.println("Comprobando encriptado: " + comprobarCadenas(conjunto.get(0), lectura));
//
//
//        System.out.println("\nDESENCRIPTANDO A");
//        byte[] dA2 = cifrador.desencriptar(privateKeyA, conjunto.get(0));
//        System.out.println("\nFIRMANDO A");
//        byte[] fA = cifrador.firmar(privateKeyA, dA2);
//
//
//        System.out.println("\nA ENVIO fA y dA2 a todos");
//
//
//        System.out.println("Comprobando firma de A: " + cifrador.comprobarFirma(publicKeyA, fA, dA2));
//
//        lectura = leerFichero(dirBaseEncriptados + "B");
//        System.out.println("Comprobando encriptado: " + comprobarCadenas(dA2, lectura));
//
//        System.out.println("\nDESENCRIPTANDO B");
//        byte[] dB2 = cifrador.desencriptar(privateKeyB, dA2);
//        System.out.println("\nFIRMANDO B");
//        byte[] fB = cifrador.firmar(privateKeyB, dB2);
//
//
//        System.out.println("\nB ENVIO fB y dB2 a todos");
//
//
//        System.out.println("Comprobando firma de B: " + cifrador.comprobarFirma(publicKeyB, fB, dB2));
//
//        lectura = leerFichero(dirBaseEncriptados + "C");
//        System.out.println("Comprobando encriptado: " + comprobarCadenas(dB2, lectura));
//
//        System.out.println("\nDESENCRIPTANDO C");
//        byte[] dC2 = cifrador.desencriptar(privateKeyC, dB2);
//        System.out.println("\nFIRMANDO C");
//        byte[] fC = cifrador.firmar(privateKeyC, dC2);
//
//
//        System.out.println("\nB ENVIO fC y dC2 a todos");
//
//
//        System.out.println("Comprobando firma de C: " + cifrador.comprobarFirma(publicKeyC, fC, dC2));
//
//        lectura = leerFichero(dirBaseEncriptados + "D");
//        System.out.println("Comprobando encriptado: " + comprobarCadenas(dC2, lectura));
//
//        System.out.println("\nDESENCRIPTANDO D");
//        byte[] dD2 = cifrador.desencriptar(privateKeyD, dC2);
//        System.out.println("\nFIRMANDO D");
//        byte[] fD = cifrador.firmar(privateKeyD, dD2);
//
//
//        System.out.println("\nD ENVIO fD y dD2 a todos");
//
//
//        System.out.println("Comprobando firma de D: " + cifrador.comprobarFirma(publicKeyD, fD, dD2));
//
//
//        String cadenaFinal = new String(dD2);
//        String[] vectorFinal = cadenaFinal.split("#");
//
//        String votoFinal = vectorFinal[0];
//        BigInteger cadenaExtraida = new BigInteger(vectorFinal[1]);
//
//        lectura = leerFichero(dirBaseCadenas + "1");
//        System.out.println("Comprobando cadena: " + comprobarCadenas(cadenaExtraida.toByteArray(), lectura));
//
//        System.out.println("\n" + votoFinal);
    }
}
